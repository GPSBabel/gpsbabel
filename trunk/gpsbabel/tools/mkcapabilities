./gpsbabel -^2 | sed 's/\&/\&amp;/' | awk  -F'\t' '
function getcap(type, cap, sname, lname) {
	if (type == "internal") return
	print "<tr>"
	print "<td class=\"fmtline\">" lname "</td>"

	print "<td class=\"c4\"> <a href=\"" sname ".html\">" sname "</a></td>"
	# This is bad...
	
	printf "<td class=\"c4\">"
	if (sname == "geo") {
		printf "<a href=\"/tips/browser.html\">Yes</a>"
	} else if (sname == "s_and_t") {
		printf "<a href=\"/formats/s_and_t/Importing_into_Microsoft_Streets_and_Trips_2003.html\">[1]</a><a href=\"http://www.gpsbabel.org/formats/s_and_t/TripPlanning.html\">[2]</a>"
	} else if (sname == "an1") {
		printf "<a href=\"/formats/delorme-new-interstate\">Yes</a>"
	}
	print "</td>"


	for (i = 1; i <= 6; i++) {
		c = substr(cap, i, 1)
		printf "<td class=\"cap\">"
		if (c != ("-")) printf "yes"
		printf "</td>\n"
	}
	print "</tr>"
}

getcap($1, $2, $3, $5)
' > ../babelweb/capabilities.inc > ../babelweb/capabilities.inc
