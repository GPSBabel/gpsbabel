diff --git a/gpsbabel/Makefile.in b/gpsbabel/Makefile.in
index fab6dd8d..2e13bef1 100644
--- a/gpsbabel/Makefile.in
+++ b/gpsbabel/Makefile.in
@@ -419,30 +419,30 @@ cov-upload: FORCE
 	cov-upload
 
 # Machine generated from here down. 
-alan.o: alan.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+alan.o: alan.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h
-an1.o: an1.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+an1.o: an1.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h an1sym.h
-arcdist.o: arcdist.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+arcdist.o: arcdist.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   filterdefs.h grtcirc.h
-bcr.o: bcr.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+bcr.o: bcr.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h csv_util.h \
   garmin_tables.h
-bend.o: bend.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+bend.o: bend.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h filterdefs.h \
   grtcirc.h
-brauniger_iq.o: brauniger_iq.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+brauniger_iq.o: brauniger_iq.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h gbser.h
-bushnell.o: bushnell.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+bushnell.o: bushnell.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-bushnell_trl.o: bushnell_trl.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+bushnell_trl.o: bushnell_trl.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h
-cet.o: cet.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+cet.o: cet.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h
-cet_util.o: cet_util.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+cet_util.o: cet_util.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   cet/ansi_x3_4_1968.h cet/iso_8859_1.h cet/iso_8859_8.h \
   cet/iso_8859_15.h cet/cp1252.h cet/cp1255.h cet/iso_8859_2.h \
@@ -454,67 +454,67 @@ cet_util.o: cet_util.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
   cet/iso_8859_13.h cet/iso_8859_14.h cet/iso_8859_3.h cet/iso_8859_4.h \
   cet/iso_8859_5.h cet/iso_8859_6.h cet/iso_8859_7.h cet/iso_8859_9.h \
   cet/koi8_r.h cet/koi8_ru.h cet/koi_8.h
-compegps.o: compegps.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+compegps.o: compegps.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   csv_util.h jeeps/gpsmath.h jeeps/gpsport.h
-cst.o: cst.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+cst.o: cst.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h strptime.h
-csv_util.o: csv_util.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+csv_util.o: csv_util.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   csv_util.h grtcirc.h strptime.h jeeps/gpsmath.h jeeps/gpsport.h \
   garmin_fs.h jeeps/gps.h jeeps/gpsdevice.h jeeps/gpssend.h \
   jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h jeeps/gpsprot.h \
   jeeps/gpscom.h jeeps/gpsfmt.h jeeps/gpsmem.h jeeps/gpsrqst.h \
   jeeps/gpsinput.h jeeps/gpsproj.h xcsv_tokens.gperf
-delbin.o: delbin.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+delbin.o: delbin.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   src/core/xmltag.h
-delgpl.o: delgpl.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+delgpl.o: delgpl.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-destinator.o: destinator.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+destinator.o: destinator.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h garmin_fs.h jeeps/gps.h jeeps/gpsport.h \
   jeeps/gpsdevice.h jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h \
   jeeps/gpsapp.h jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h \
   jeeps/gpsmath.h jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h \
   jeeps/gpsproj.h strptime.h
-dg-100.o: dg-100.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+dg-100.o: dg-100.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   gbser.h
-discard.o: discard.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+discard.o: discard.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   filterdefs.h
-dmtlog.o: dmtlog.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+dmtlog.o: dmtlog.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   jeeps/gpsmath.h jeeps/gpsport.h xmlgeneric.h
-duplicate.o: duplicate.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+duplicate.o: duplicate.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h filterdefs.h
-easygps.o: easygps.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+easygps.o: easygps.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-enigma.o: enigma.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+enigma.o: enigma.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-exif.o: exif.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+exif.o: exif.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   garmin_tables.h jeeps/gpsmath.h jeeps/gpsport.h
-explorist_ini.o: explorist_ini.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+explorist_ini.o: explorist_ini.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h explorist_ini.h
-fatal.o: fatal.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+fatal.o: fatal.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-filter_vecs.o: filter_vecs.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+filter_vecs.o: filter_vecs.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h filterdefs.h gbversion.h
-formspec.o: formspec.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+formspec.o: formspec.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-g7towin.o: g7towin.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+g7towin.o: g7towin.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   csv_util.h garmin_fs.h jeeps/gps.h jeeps/gpsport.h jeeps/gpsdevice.h \
   jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h \
   jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h jeeps/gpsmath.h \
   jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h jeeps/gpsproj.h \
   garmin_tables.h strptime.h
-garmin.o: garmin.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+garmin.o: garmin.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   grtcirc.h jeeps/gps.h jeeps/gpsport.h jeeps/gpsdevice.h \
   jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h \
@@ -522,165 +522,165 @@ garmin.o: garmin.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
   jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h jeeps/gpsproj.h \
   garmin_tables.h garmin_fs.h garmin_device_xml.h
 garmin_device_xml.o: garmin_device_xml.cc defs.h config.h queue.h \
-  zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+    gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h xmlgeneric.h garmin_device_xml.h
-garmin_fit.o: garmin_fit.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+garmin_fit.o: garmin_fit.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h
-garmin_fs.o: garmin_fs.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+garmin_fs.o: garmin_fs.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h garmin_fs.h jeeps/gps.h jeeps/gpsport.h \
   jeeps/gpsdevice.h jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h \
   jeeps/gpsapp.h jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h \
   jeeps/gpsmath.h jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h \
   jeeps/gpsproj.h garmin_tables.h
-garmin_gpi.o: garmin_gpi.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+garmin_gpi.o: garmin_gpi.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h jeeps/gpsmath.h jeeps/gpsport.h garmin_fs.h \
   jeeps/gps.h jeeps/gpsdevice.h jeeps/gpssend.h jeeps/gpsread.h \
   jeeps/gpsutil.h jeeps/gpsapp.h jeeps/gpsprot.h jeeps/gpscom.h \
   jeeps/gpsfmt.h jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h \
   jeeps/gpsproj.h garmin_gpi.h
 garmin_tables.o: garmin_tables.cc garmin_tables.h defs.h config.h queue.h \
-  zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+    gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h jeeps/gpsmath.h jeeps/gpsport.h
-garmin_txt.o: garmin_txt.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+garmin_txt.o: garmin_txt.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h csv_util.h garmin_fs.h jeeps/gps.h jeeps/gpsport.h \
   jeeps/gpsdevice.h jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h \
   jeeps/gpsapp.h jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h \
   jeeps/gpsmath.h jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h \
   jeeps/gpsproj.h garmin_tables.h grtcirc.h strptime.h
-garmin_xt.o: garmin_xt.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+garmin_xt.o: garmin_xt.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h
-gbfile.o: gbfile.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+gbfile.o: gbfile.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-gbser.o: gbser.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+gbser.o: gbser.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   gbser.h gbser_private.h
-gbser_posix.o: gbser_posix.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+gbser_posix.o: gbser_posix.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h gbser.h gbser_private.h
 gbsleep.o: gbsleep.cc config.h
-gdb.o: gdb.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+gdb.o: gdb.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h csv_util.h \
   garmin_fs.h jeeps/gps.h jeeps/gpsport.h jeeps/gpsdevice.h \
   jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h \
   jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h jeeps/gpsmath.h \
   jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h jeeps/gpsproj.h \
   garmin_tables.h grtcirc.h
-geo.o: geo.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+geo.o: geo.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   src/core/file.h
-ggv_log.o: ggv_log.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+ggv_log.o: ggv_log.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   grtcirc.h jeeps/gpsmath.h jeeps/gpsport.h
-ggv_ovl.o: ggv_ovl.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+ggv_ovl.o: ggv_ovl.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   grtcirc.h
-globals.o: globals.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+globals.o: globals.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   gbversion.h
-glogbook.o: glogbook.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+glogbook.o: glogbook.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   xmlgeneric.h src/core/file.h
-gnav_trl.o: gnav_trl.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+gnav_trl.o: gnav_trl.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-google.o: google.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+google.o: google.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   xmlgeneric.h
-googledir.o: googledir.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+googledir.o: googledir.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h xmlgeneric.h
-gopal.o: gopal.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+gopal.o: gopal.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   csv_util.h strptime.h jeeps/gpsmath.h jeeps/gpsport.h grtcirc.h
-gpssim.o: gpssim.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+gpssim.o: gpssim.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-gpsutil.o: gpsutil.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+gpsutil.o: gpsutil.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   magellan.h
-gpx.o: gpx.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+gpx.o: gpx.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h garmin_fs.h \
   jeeps/gps.h jeeps/gpsport.h jeeps/gpsdevice.h jeeps/gpssend.h \
   jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h jeeps/gpsprot.h \
   jeeps/gpscom.h jeeps/gpsfmt.h jeeps/gpsmath.h jeeps/gpsmem.h \
   jeeps/gpsrqst.h jeeps/gpsinput.h jeeps/gpsproj.h src/core/file.h \
   src/core/xmlstreamwriter.h src/core/xmltag.h
-grtcirc.o: grtcirc.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+grtcirc.o: grtcirc.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   grtcirc.h
-gtm.o: gtm.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+gtm.o: gtm.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   jeeps/gpsmath.h jeeps/gpsport.h
-gtrnctr.o: gtrnctr.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+gtrnctr.o: gtrnctr.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   xmlgeneric.h
-height.o: height.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+height.o: height.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   filterdefs.h height.h
 hiketech.o: hiketech.cc src/core/xmlstreamwriter.h defs.h config.h \
-  queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h \
+  queue.h   gbfile.h cet.h cet_util.h inifile.h \
   session.h src/core/datetime.h xmlgeneric.h
-holux.o: holux.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+holux.o: holux.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   holux.h
-html.o: html.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+html.o: html.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   jeeps/gpsmath.h jeeps/gpsport.h src/core/xmltag.h
-humminbird.o: humminbird.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+humminbird.o: humminbird.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h
-igc.o: igc.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+igc.o: igc.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h
-ignrando.o: ignrando.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+ignrando.o: ignrando.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   xmlgeneric.h
-igo8.o: igo8.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+igo8.o: igo8.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h
-ik3d.o: ik3d.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+ik3d.o: ik3d.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h xmlgeneric.h
-inifile.o: inifile.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+inifile.o: inifile.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-internal_styles.o: internal_styles.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+internal_styles.o: internal_styles.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h
-interpolate.o: interpolate.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+interpolate.o: interpolate.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h filterdefs.h grtcirc.h
-itracku.o: itracku.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+itracku.o: itracku.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   gbser.h
 jeeps/gpsapp.o: jeeps/gpsapp.cc jeeps/gps.h jeeps/../defs.h config.h \
-  queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h \
+  queue.h   gbfile.h cet.h cet_util.h inifile.h \
   session.h src/core/datetime.h jeeps/gpsport.h jeeps/gpsdevice.h \
   jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h \
   jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h jeeps/gpsmath.h \
   jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h jeeps/gpsproj.h \
   jeeps/garminusb.h jeeps/gpsusbint.h
 jeeps/gpscom.o: jeeps/gpscom.cc jeeps/gps.h jeeps/../defs.h config.h \
-  queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h \
+  queue.h   gbfile.h cet.h cet_util.h inifile.h \
   session.h src/core/datetime.h jeeps/gpsport.h jeeps/gpsdevice.h \
   jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h \
   jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h jeeps/gpsmath.h \
   jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h jeeps/gpsproj.h
 jeeps/gpsdevice.o: jeeps/gpsdevice.cc jeeps/gps.h jeeps/../defs.h \
-  config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h \
+  config.h queue.h   gbfile.h cet.h cet_util.h \
   inifile.h session.h src/core/datetime.h jeeps/gpsport.h \
   jeeps/gpsdevice.h jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h \
   jeeps/gpsapp.h jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h \
   jeeps/gpsmath.h jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h \
   jeeps/gpsproj.h jeeps/gpsserial.h
 jeeps/gpsdevice_ser.o: jeeps/gpsdevice_ser.cc jeeps/gps.h jeeps/../defs.h \
-  config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h \
+  config.h queue.h   gbfile.h cet.h cet_util.h \
   inifile.h session.h src/core/datetime.h jeeps/gpsport.h \
   jeeps/gpsdevice.h jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h \
   jeeps/gpsapp.h jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h \
   jeeps/gpsmath.h jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h \
   jeeps/gpsproj.h jeeps/gpsserial.h
 jeeps/gpsdevice_usb.o: jeeps/gpsdevice_usb.cc jeeps/gps.h jeeps/../defs.h \
-  config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h \
+  config.h queue.h   gbfile.h cet.h cet_util.h \
   inifile.h session.h src/core/datetime.h jeeps/gpsport.h \
   jeeps/gpsdevice.h jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h \
   jeeps/gpsapp.h jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h \
@@ -688,7 +688,7 @@ jeeps/gpsdevice_usb.o: jeeps/gpsdevice_usb.cc jeeps/gps.h jeeps/../defs.h \
   jeeps/gpsproj.h jeeps/garminusb.h jeeps/gpsusbint.h \
   jeeps/gpsusbcommon.h
 jeeps/gpslibusb.o: jeeps/gpslibusb.cc config.h mac/libusb/usb.h \
-  jeeps/gps.h jeeps/../defs.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+  jeeps/gps.h jeeps/../defs.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   jeeps/gpsport.h jeeps/gpsdevice.h jeeps/gpssend.h jeeps/gpsread.h \
   jeeps/gpsutil.h jeeps/gpsapp.h jeeps/gpsprot.h jeeps/gpscom.h \
@@ -696,93 +696,93 @@ jeeps/gpslibusb.o: jeeps/gpslibusb.cc config.h mac/libusb/usb.h \
   jeeps/gpsinput.h jeeps/gpsproj.h jeeps/garminusb.h \
   jeeps/gpsusbcommon.h jeeps/../garmin_device_xml.h
 jeeps/gpsmath.o: jeeps/gpsmath.cc jeeps/gps.h jeeps/../defs.h config.h \
-  queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h \
+  queue.h   gbfile.h cet.h cet_util.h inifile.h \
   session.h src/core/datetime.h jeeps/gpsport.h jeeps/gpsdevice.h \
   jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h \
   jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h jeeps/gpsmath.h \
   jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h jeeps/gpsproj.h \
   jeeps/gpsdatum.h
 jeeps/gpsmem.o: jeeps/gpsmem.cc jeeps/gps.h jeeps/../defs.h config.h \
-  queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h \
+  queue.h   gbfile.h cet.h cet_util.h inifile.h \
   session.h src/core/datetime.h jeeps/gpsport.h jeeps/gpsdevice.h \
   jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h \
   jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h jeeps/gpsmath.h \
   jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h jeeps/gpsproj.h
 jeeps/gpsprot.o: jeeps/gpsprot.cc jeeps/gps.h jeeps/../defs.h config.h \
-  queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h \
+  queue.h   gbfile.h cet.h cet_util.h inifile.h \
   session.h src/core/datetime.h jeeps/gpsport.h jeeps/gpsdevice.h \
   jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h \
   jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h jeeps/gpsmath.h \
   jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h jeeps/gpsproj.h
 jeeps/gpsread.o: jeeps/gpsread.cc jeeps/gps.h jeeps/../defs.h config.h \
-  queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h \
+  queue.h   gbfile.h cet.h cet_util.h inifile.h \
   session.h src/core/datetime.h jeeps/gpsport.h jeeps/gpsdevice.h \
   jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h \
   jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h jeeps/gpsmath.h \
   jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h jeeps/gpsproj.h \
   jeeps/gpsserial.h
 jeeps/gpsrqst.o: jeeps/gpsrqst.cc jeeps/gps.h jeeps/../defs.h config.h \
-  queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h \
+  queue.h   gbfile.h cet.h cet_util.h inifile.h \
   session.h src/core/datetime.h jeeps/gpsport.h jeeps/gpsdevice.h \
   jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h \
   jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h jeeps/gpsmath.h \
   jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h jeeps/gpsproj.h
 jeeps/gpssend.o: jeeps/gpssend.cc jeeps/gps.h jeeps/../defs.h config.h \
-  queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h \
+  queue.h   gbfile.h cet.h cet_util.h inifile.h \
   session.h src/core/datetime.h jeeps/gpsport.h jeeps/gpsdevice.h \
   jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h \
   jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h jeeps/gpsmath.h \
   jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h jeeps/gpsproj.h \
   jeeps/gpsserial.h
 jeeps/gpsserial.o: jeeps/gpsserial.cc jeeps/gps.h jeeps/../defs.h \
-  config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h \
+  config.h queue.h   gbfile.h cet.h cet_util.h \
   inifile.h session.h src/core/datetime.h jeeps/gpsport.h \
   jeeps/gpsdevice.h jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h \
   jeeps/gpsapp.h jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h \
   jeeps/gpsmath.h jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h \
   jeeps/gpsproj.h jeeps/gpsserial.h jeeps/../gbser.h
 jeeps/gpsusbcommon.o: jeeps/gpsusbcommon.cc jeeps/gps.h jeeps/../defs.h \
-  config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h \
+  config.h queue.h   gbfile.h cet.h cet_util.h \
   inifile.h session.h src/core/datetime.h jeeps/gpsport.h \
   jeeps/gpsdevice.h jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h \
   jeeps/gpsapp.h jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h \
   jeeps/gpsmath.h jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h \
   jeeps/gpsproj.h jeeps/garminusb.h jeeps/gpsusbcommon.h
 jeeps/gpsusbread.o: jeeps/gpsusbread.cc jeeps/gps.h jeeps/../defs.h \
-  config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h \
+  config.h queue.h   gbfile.h cet.h cet_util.h \
   inifile.h session.h src/core/datetime.h jeeps/gpsport.h \
   jeeps/gpsdevice.h jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h \
   jeeps/gpsapp.h jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h \
   jeeps/gpsmath.h jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h \
   jeeps/gpsproj.h jeeps/garminusb.h jeeps/gpsusbint.h
 jeeps/gpsusbsend.o: jeeps/gpsusbsend.cc jeeps/gps.h jeeps/../defs.h \
-  config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h \
+  config.h queue.h   gbfile.h cet.h cet_util.h \
   inifile.h session.h src/core/datetime.h jeeps/gpsport.h \
   jeeps/gpsdevice.h jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h \
   jeeps/gpsapp.h jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h \
   jeeps/gpsmath.h jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h \
   jeeps/gpsproj.h jeeps/garminusb.h jeeps/gpsusbint.h
 jeeps/jgpsutil.o: jeeps/jgpsutil.cc jeeps/gps.h jeeps/../defs.h config.h \
-  queue.h zlib/zlib.h zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h \
+  queue.h   gbfile.h cet.h cet_util.h inifile.h \
   session.h src/core/datetime.h jeeps/gpsport.h jeeps/gpsdevice.h \
   jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h \
   jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h jeeps/gpsmath.h \
   jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h jeeps/gpsproj.h
-jogmap.o: jogmap.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+jogmap.o: jogmap.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   xmlgeneric.h jeeps/gpsmath.h jeeps/gpsport.h garmin_tables.h
-jtr.o: jtr.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+jtr.o: jtr.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h csv_util.h
-kml.o: kml.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+kml.o: kml.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h xmlgeneric.h \
   grtcirc.h src/core/file.h src/core/xmlstreamwriter.h src/core/xmltag.h
-lmx.o: lmx.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+lmx.o: lmx.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h xmlgeneric.h
-lowranceusr.o: lowranceusr.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+lowranceusr.o: lowranceusr.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h
-lowranceusr4.o: lowranceusr4.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+lowranceusr4.o: lowranceusr4.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h
 mac/libusb/darwin.o: mac/libusb/darwin.c config.h mac/libusb/usbi.h \
   mac/libusb/usb.h mac/libusb/error.h
@@ -792,271 +792,243 @@ mac/libusb/error.o: mac/libusb/error.c mac/libusb/usb.h \
   mac/libusb/error.h
 mac/libusb/usb.o: mac/libusb/usb.c mac/libusb/usbi.h mac/libusb/usb.h \
   mac/libusb/error.h
-maggeo.o: maggeo.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+maggeo.o: maggeo.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   csv_util.h xmlgeneric.h magellan.h
-magproto.o: magproto.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+magproto.o: magproto.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   magellan.h gbser.h explorist_ini.h
-main.o: main.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+main.o: main.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h filterdefs.h \
   csv_util.h
-mapasia.o: mapasia.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+mapasia.o: mapasia.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-mapbar_track.o: mapbar_track.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+mapbar_track.o: mapbar_track.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h
-mapsend.o: mapsend.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+mapsend.o: mapsend.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   mapsend.h magellan.h
-mapsource.o: mapsource.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+mapsource.o: mapsource.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h garmin_tables.h jeeps/gpsmath.h jeeps/gpsport.h
-mkshort.o: mkshort.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+mkshort.o: mkshort.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-mmo.o: mmo.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+mmo.o: mmo.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h
-mtk_locus.o: mtk_locus.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+mtk_locus.o: mtk_locus.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h gbser.h
-mtk_logger.o: mtk_logger.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+mtk_logger.o: mtk_logger.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h gbser.h
-navicache.o: navicache.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+navicache.o: navicache.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h src/core/file.h
-naviguide.o: naviguide.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+naviguide.o: naviguide.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h csv_util.h jeeps/gpsmath.h jeeps/gpsport.h
-navilink.o: navilink.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+navilink.o: navilink.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   gbser.h jeeps/gpsmath.h jeeps/gpsport.h navilink.h
-navitel.o: navitel.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+navitel.o: navitel.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   jeeps/gpsmath.h jeeps/gpsport.h
-netstumbler.o: netstumbler.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+netstumbler.o: netstumbler.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h csv_util.h
-nmea.o: nmea.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+nmea.o: nmea.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h gbser.h \
   strptime.h jeeps/gpsmath.h jeeps/gpsport.h
-nmn4.o: nmn4.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+nmn4.o: nmn4.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h csv_util.h
-nukedata.o: nukedata.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+nukedata.o: nukedata.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   filterdefs.h
-osm.o: osm.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+osm.o: osm.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h xmlgeneric.h
-ozi.o: ozi.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+ozi.o: ozi.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h csv_util.h \
   jeeps/gpsmath.h jeeps/gpsport.h
-parse.o: parse.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+parse.o: parse.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   jeeps/gpsmath.h jeeps/gpsport.h strptime.h
-pcx.o: pcx.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+pcx.o: pcx.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   garmin_tables.h csv_util.h
-pocketfms_bc.o: pocketfms_bc.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+pocketfms_bc.o: pocketfms_bc.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h
-pocketfms_fp.o: pocketfms_fp.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+pocketfms_fp.o: pocketfms_fp.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h xmlgeneric.h
-pocketfms_wp.o: pocketfms_wp.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+pocketfms_wp.o: pocketfms_wp.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h csv_util.h
-polygon.o: polygon.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+polygon.o: polygon.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   filterdefs.h
-position.o: position.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+position.o: position.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   filterdefs.h grtcirc.h
-psitrex.o: psitrex.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+psitrex.o: psitrex.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   garmin_tables.h
 queue.o: queue.cc queue.h
-radius.o: radius.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+radius.o: radius.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   filterdefs.h grtcirc.h
-random.o: random.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+random.o: random.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   garmin_fs.h jeeps/gps.h jeeps/gpsport.h jeeps/gpsdevice.h \
   jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h \
   jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h jeeps/gpsmath.h \
   jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h jeeps/gpsproj.h
-raymarine.o: raymarine.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+raymarine.o: raymarine.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h csv_util.h
-reverse_route.o: reverse_route.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+reverse_route.o: reverse_route.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h filterdefs.h
-rgbcolors.o: rgbcolors.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+rgbcolors.o: rgbcolors.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h
-route.o: route.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+route.o: route.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   grtcirc.h
-saroute.o: saroute.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+saroute.o: saroute.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   grtcirc.h
-sbn.o: sbn.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+sbn.o: sbn.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h navilink.h
-sbp.o: sbp.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+sbp.o: sbp.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h navilink.h
-session.o: session.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+session.o: session.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-shape.o: shape.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+shape.o: shape.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   shapelib/shapefil.h
 shapelib/dbfopen.o: shapelib/dbfopen.c shapelib/shapefil.h
 shapelib/safileio.o: shapelib/safileio.c shapelib/shapefil.h
 shapelib/shpopen.o: shapelib/shpopen.c shapelib/shapefil.h
-skyforce.o: skyforce.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+skyforce.o: skyforce.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-skytraq.o: skytraq.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+skytraq.o: skytraq.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   gbser.h
-smplrout.o: smplrout.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+smplrout.o: smplrout.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   filterdefs.h grtcirc.h
-sort.o: sort.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+sort.o: sort.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h filterdefs.h
 src/core/xmlstreamwriter.o: src/core/xmlstreamwriter.cc \
   src/core/xmlstreamwriter.h
-stackfilter.o: stackfilter.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+stackfilter.o: stackfilter.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h filterdefs.h
-stmsdf.o: stmsdf.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+stmsdf.o: stmsdf.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   csv_util.h strptime.h jeeps/gpsmath.h jeeps/gpsport.h grtcirc.h
-stmwpp.o: stmwpp.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+stmwpp.o: stmwpp.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   csv_util.h
 strptime.o: strptime.c config.h strptime.h
-subrip.o: subrip.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+subrip.o: subrip.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-swapdata.o: swapdata.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+swapdata.o: swapdata.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   filterdefs.h
-tef_xml.o: tef_xml.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+tef_xml.o: tef_xml.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   xmlgeneric.h
-teletype.o: teletype.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+teletype.o: teletype.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-text.o: text.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+text.o: text.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   jeeps/gpsmath.h jeeps/gpsport.h src/core/xmltag.h
-tiger.o: tiger.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+tiger.o: tiger.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   csv_util.h
-tmpro.o: tmpro.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+tmpro.o: tmpro.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   csv_util.h
-tomtom.o: tomtom.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+tomtom.o: tomtom.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-tpg.o: tpg.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+tpg.o: tpg.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   jeeps/gpsmath.h jeeps/gpsport.h
-tpo.o: tpo.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+tpo.o: tpo.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   jeeps/gpsmath.h jeeps/gpsport.h
-trackfilter.o: trackfilter.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+trackfilter.o: trackfilter.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h filterdefs.h strptime.h grtcirc.h xmlgeneric.h
-transform.o: transform.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+transform.o: transform.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h filterdefs.h
-unicsv.o: unicsv.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+unicsv.o: unicsv.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   csv_util.h garmin_fs.h jeeps/gps.h jeeps/gpsport.h jeeps/gpsdevice.h \
   jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h \
   jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h jeeps/gpsmath.h \
   jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h jeeps/gpsproj.h \
   garmin_tables.h
-units.o: units.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+units.o: units.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-util.o: util.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+util.o: util.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   src/core/xmltag.h jeeps/gpsmath.h jeeps/gpsport.h
 util_crc.o: util_crc.cc
-v900.o: v900.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+v900.o: v900.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h
-validate.o: validate.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+validate.o: validate.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   filterdefs.h
-vcf.o: vcf.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+vcf.o: vcf.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   jeeps/gpsmath.h jeeps/gpsport.h
-vecs.o: vecs.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+vecs.o: vecs.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h csv_util.h \
   gbversion.h
-vidaone.o: vidaone.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+vidaone.o: vidaone.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-vitosmt.o: vitosmt.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+vitosmt.o: vitosmt.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   grtcirc.h
-vitovtt.o: vitovtt.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+vitovtt.o: vitovtt.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h
-vpl.o: vpl.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+vpl.o: vpl.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h
-waypt.o: waypt.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+waypt.o: waypt.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   grtcirc.h garmin_fs.h jeeps/gps.h jeeps/gpsport.h jeeps/gpsdevice.h \
   jeeps/gpssend.h jeeps/gpsread.h jeeps/gpsutil.h jeeps/gpsapp.h \
   jeeps/gpsprot.h jeeps/gpscom.h jeeps/gpsfmt.h jeeps/gpsmath.h \
   jeeps/gpsmem.h jeeps/gpsrqst.h jeeps/gpsinput.h jeeps/gpsproj.h
-wbt-200.o: wbt-200.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+wbt-200.o: wbt-200.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   gbser.h grtcirc.h
-wfff_xml.o: wfff_xml.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+wfff_xml.o: wfff_xml.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   xmlgeneric.h
-wintec_tes.o: wintec_tes.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+wintec_tes.o: wintec_tes.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h
-xcsv.o: xcsv.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+xcsv.o: xcsv.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h csv_util.h \
   jeeps/gpsmath.h jeeps/gpsport.h
 xhtmlent.o: xhtmlent.cc
-xmlgeneric.o: xmlgeneric.cc defs.h config.h queue.h zlib/zlib.h \
-  zlib/zconf.h gbfile.h cet.h cet_util.h inifile.h session.h \
+xmlgeneric.o: xmlgeneric.cc defs.h config.h queue.h  \
+   gbfile.h cet.h cet_util.h inifile.h session.h \
   src/core/datetime.h xmlgeneric.h src/core/file.h
-xmltag.o: xmltag.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+xmltag.o: xmltag.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   src/core/xmltag.h
-xol.o: xol.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h gbfile.h \
+xol.o: xol.cc defs.h config.h queue.h   gbfile.h \
   cet.h cet_util.h inifile.h session.h src/core/datetime.h xmlgeneric.h \
   jeeps/gpsmath.h jeeps/gpsport.h garmin_tables.h
-yahoo.o: yahoo.cc defs.h config.h queue.h zlib/zlib.h zlib/zconf.h \
+yahoo.o: yahoo.cc defs.h config.h queue.h   \
   gbfile.h cet.h cet_util.h inifile.h session.h src/core/datetime.h \
   xmlgeneric.h
-zlib/adler32.o: zlib/adler32.c zlib/zutil.h zlib/zlib.h zlib/zconf.h \
-  config.h
-zlib/compress.o: zlib/compress.c zlib/zlib.h zlib/zconf.h config.h
-zlib/crc32.o: zlib/crc32.c zlib/zutil.h zlib/zlib.h zlib/zconf.h config.h \
-  zlib/crc32.h
-zlib/deflate.o: zlib/deflate.c zlib/deflate.h zlib/zutil.h zlib/zlib.h \
-  zlib/zconf.h config.h
-zlib/gzclose.o: zlib/gzclose.c zlib/gzguts.h zlib/zlib.h zlib/zconf.h \
-  config.h
-zlib/gzlib.o: zlib/gzlib.c zlib/gzguts.h zlib/zlib.h zlib/zconf.h \
-  config.h
-zlib/gzread.o: zlib/gzread.c zlib/gzguts.h zlib/zlib.h zlib/zconf.h \
-  config.h
-zlib/gzwrite.o: zlib/gzwrite.c zlib/gzguts.h zlib/zlib.h zlib/zconf.h \
-  config.h
-zlib/infback.o: zlib/infback.c zlib/zutil.h zlib/zlib.h zlib/zconf.h \
-  config.h zlib/inftrees.h zlib/inflate.h zlib/inffast.h zlib/inffixed.h
-zlib/inffast.o: zlib/inffast.c zlib/zutil.h zlib/zlib.h zlib/zconf.h \
-  config.h zlib/inftrees.h zlib/inflate.h zlib/inffast.h
-zlib/inflate.o: zlib/inflate.c zlib/zutil.h zlib/zlib.h zlib/zconf.h \
-  config.h zlib/inftrees.h zlib/inflate.h zlib/inffast.h zlib/inffixed.h
-zlib/inftrees.o: zlib/inftrees.c zlib/zutil.h zlib/zlib.h zlib/zconf.h \
-  config.h zlib/inftrees.h
-zlib/trees.o: zlib/trees.c zlib/deflate.h zlib/zutil.h zlib/zlib.h \
-  zlib/zconf.h config.h zlib/trees.h
-zlib/uncompr.o: zlib/uncompr.c zlib/zlib.h zlib/zconf.h config.h
-zlib/zutil.o: zlib/zutil.c zlib/zutil.h zlib/zlib.h zlib/zconf.h config.h \
-  zlib/gzguts.h
 internal_styles.cc: mkstyle.sh $(srcdir)/style/*.style
 	$(srcdir)/mkstyle.sh > internal_styles.cc || (rm -f internal_styles.cc ; exit 1)
diff --git a/gpsbabel/configure.in b/gpsbabel/configure.in
index 44b4c93b..bd622313 100644
--- a/gpsbabel/configure.in
+++ b/gpsbabel/configure.in
@@ -55,6 +55,7 @@ AC_ARG_WITH(cet,[  --with-cet=(default,all,minimal)],
 
 if test $GCC = yes; then
  CFLAGS="$CFLAGS -Wall"
+ CXXFLAGS="$CXXFLAGS -Wall"
 fi
 
 if test "$cet" = "all"; then
@@ -156,15 +157,21 @@ AC_SUBST(RC)
 # On RHEL/OEL/SL/CENTOS/FEDORA qmake is from Qt3, and qmake-qt4 is from Qt4.
 # If qmake-qt4 isn't found look for the standard name qmake and assume it is
 # from a useful version Qt.
-AC_CHECK_TOOLS(QMAKE, [qmake-qt4 qmake], "no")
-AC_CHECK_PROGS(LUPDATE, [lupdate-qt4 lupdate])
-AC_CHECK_PROGS(LRELEASE, [lrelease-qt4 lrelease])
+AC_CHECK_TOOLS(QMAKE, [qmake-qt5 qmake-qt4 qmake], "no")
+AC_CHECK_TOOLS(LUPDATE, [lupdate-qt5 lupdate-qt4 lupdate])
+AC_CHECK_TOOLS(LRELEASE, [lrelease-qt5 lrelease-qt4 lrelease])
 
 if test "$QMAKE" = no ; then
-  AC_MSG_ERROR([Qt4 is required, but not found]);
+  AC_MSG_ERROR([Qt4 or Qt5 is required, but neither was found]);
 fi
 
-QT_LIBS="-L$($QMAKE -query QT_INSTALL_LIBS) -l QtCore"
+# guess the name of the Qt Core library.
+QT_LIBVER=$($QMAKE -query -query QT_VERSION | sed -e 's/\..*//')
+if test "$QT_LIBVER" -ge 5 ; then
+	QT_LIBS="-L$($QMAKE -query QT_INSTALL_LIBS) -lQt${QT_LIBVER}Core"
+else
+	QT_LIBS="-L$($QMAKE -query QT_INSTALL_LIBS) -lQtCore"
+fi
 QT_INC=$($QMAKE -query QT_INSTALL_HEADERS)
 QT_INC_OPT="-I"
 QT_SYSINC_OPT="-isystem"
@@ -222,6 +229,28 @@ case "$target" in
       QT_INC_OPT="-F"
       QT_SYSINC_OPT="-iframework"
       ;;
+    *-*-freebsd*)
+	GBSER=gbser_posix.o
+	AC_MSG_CHECKING(for libusb)
+	if test "$with_libusb" = no ; then
+		AC_MSG_RESULT(check not done)
+		OSJEEPS=jeeps/gpsusbstub.o
+	else
+		OLDFLAGS=$LDFLAGS
+		OCFLAGS=$CFLAGS
+		LDFLAGS="$LDFLAGS -lusb"
+		CFLAGS="$OCFLAGS"
+
+		AC_CHECK_LIB([usb], [usb_interrupt_read],
+			AC_DEFINE(HAVE_LIBUSB, 1, [Defined if you have libusb])
+			[USB_CFLAGS=""]
+			[USB_LIBS="-lusb"]
+#			,[AC_MSG_ERROR([libusb is needed])]
+			)
+		OSJEEPS=jeeps/gpslibusb.o
+		CFLAGS="$OCFLAGS"
+	fi
+	;;
     *)
 	GBSER=gbser_posix.o
 	AC_MSG_CHECKING(for libusb)
@@ -283,6 +312,34 @@ case "$target" in
 	;;
 esac
 
+case "$target" in
+	*-*-darwin*)
+	;;
+	*)
+	AC_MSG_CHECKING(for reduce relocations)
+	OCPPFLAGS="$CPPFLAGS"
+	CPPFLAGS="$CPPFLAGS -I$QT_INC"
+	AC_COMPILE_IFELSE([AC_LANG_SOURCE([
+		#include <QtCore/QString>
+		void f(void) {
+		}])],
+		[AC_MSG_RESULT(no)],
+		[OCXXFLAGS="$CXXFLAGS"
+		CXXFLAGS="$CXXFLAGS -fPIC"
+		AC_COMPILE_IFELSE([AC_LANG_SOURCE([
+			#include <QtCore/QString>
+			void f(void) {
+			}])],
+			[AC_MSG_RESULT(yes)
+			CFLAGS="$CFLAGS -fPIC"],
+			[AC_MSG_RESULT(unknown)
+			CXXFLAGS="$OCXXFLAGS"]
+			)]
+		)
+	CPPFLAGS="$OCPPFLAGS"
+	;;
+esac
+
 AC_MSG_CHECKING(for random stuff to make you feel better)
 AC_MSG_RESULT(failed)
 
@@ -340,7 +397,7 @@ AC_SUBST(QT_INC_OPT)
 AC_SUBST(QT_SYSINC_OPT)
 AC_SUBST(QT_LIBS)
 
-AC_CONFIG_FILES([Makefile gbversion.h gui/setup.iss xmldoc/makedoc tools/mkcapabilities win32/gpsbabel.rc jeeps/Makefile shapelib/Makefile zlib/empty])
+AC_CONFIG_FILES([Makefile gbversion.h gui/setup.iss xmldoc/makedoc tools/mkcapabilities win32/gpsbabel.rc jeeps/Makefile shapelib/Makefile])
 AC_CONFIG_FILES([gui/makelinuxdist.sh], [chmod +x gui/makelinuxdist.sh])
 AC_OUTPUT
 
diff --git a/gpsbabel/gui/makelinuxdist.sh.in b/gpsbabel/gui/makelinuxdist.sh.in
index 72707f7a..8176d457 100644
--- a/gpsbabel/gui/makelinuxdist.sh.in
+++ b/gpsbabel/gui/makelinuxdist.sh.in
@@ -7,32 +7,9 @@ DISTNAME=GPSBabel@PACKAGE_VERSION@@PACKAGE_RELEASE@
 DISTDIR=$DISTNAME
 rm -rf $DISTDIR
 mkdir $DISTDIR
-mkdir $DISTDIR/plugins
 mkdir $DISTDIR/translations
 mkdir $DISTDIR/help
 
-QT_LIBS=`ldd objects/gpsbabelfe-bin | grep libQt | awk '{print $3}'`
-for lib in $QT_LIBS
-do
-	cp $lib $DISTDIR
-done
-#cp `ldd objects/gpsbabelfe-bin  | grep libphonon |awk '{print $3}'` $DISTDIR
-#cp `ldd objects/gpsbabelfe-bin  | grep libaudio   |awk '{print $3}'` $DISTDIR
-
-cp -r $QT_INSTALL_PLUGINS/imageformats $DISTDIR/plugins
-if [ -e $QT_INSTALL_PLUGINS/codecs ]
-then
-  cp -r $QT_INSTALL_PLUGINS/codecs $DISTDIR/plugins
-else
-  echo "Warning: $QT_INSTALL_PLUGINS/codecs not found, perhaps this is normal for Qt5"
-fi
-if [ -e $QT_INSTALL_PLUGINS/platforms ]
-then
-#  we need at least platforms/libqxcb.so
-  cp -r $QT_INSTALL_PLUGINS/platforms $DISTDIR/plugins
-else
-  echo "Wanring: $QT_INSTALL_PLUGINS/platforms not found, this is normal for Qt4"
-fi
 cp $QT_INSTALL_TRANSLATIONS/qt_*.qm $DISTDIR/translations/
 
 # copy the compiled translations
@@ -40,10 +17,7 @@ cp *.qm $DISTDIR/translations
 
 # Now our gui
 cp gmapbase.html $DISTDIR/
-cp gpsbabelfe $DISTDIR/
-chmod +x $DISTDIR/gpsbabelfe
-cp objects/gpsbabelfe-bin $DISTDIR
-cp qt.conf $DISTDIR/
+cp objects/gpsbabelfe-bin $DISTDIR/gpsbabelfe
 cp ../gpsbabel $DISTDIR/
 #
 cp -r help/*.html $DISTDIR/help
@@ -53,7 +27,3 @@ cp ../COPYING $DISTDIR/
 cp ../README* $DISTDIR/
 
 
-rm -f $DISTDIR.tar $DISTDIR.tar.bz2
-tar cvf $DISTDIR.tar $DISTDIR
-bzip2 $DISTDIR.tar
-
diff --git a/gpsbabel/tef_xml.cc b/gpsbabel/tef_xml.cc
index c8a64f8d..134eaa17 100644
--- a/gpsbabel/tef_xml.cc
+++ b/gpsbabel/tef_xml.cc
@@ -72,11 +72,11 @@ tef_start(xg_string args, const QXmlStreamAttributes* attrv)
   bool valid = false;
 
   foreach(QXmlStreamAttribute attr, *attrv) {
-    if (attr.name().compare("Comment", Qt::CaseInsensitive) == 0) {
-      if (attr.value().compare("TourExchangeFormat", Qt::CaseInsensitive) == 0) {
+    if (attr.name().compare(QLatin1String("Comment"), Qt::CaseInsensitive) == 0) {
+      if (attr.value().compare(QLatin1String("TourExchangeFormat"), Qt::CaseInsensitive) == 0) {
         valid = true;
       }
-    } else if (attr.name().compare("Version", Qt::CaseInsensitive) == 0) {
+    } else if (attr.name().compare(QLatin1String("Version"), Qt::CaseInsensitive) == 0) {
       version = attr.value().toString().toDouble();
     }
   }
@@ -95,9 +95,9 @@ tef_header(xg_string args, const QXmlStreamAttributes* attrv)
 {
   route = route_head_alloc();
   foreach(QXmlStreamAttribute attr, *attrv) {
-    if (attr.name().compare("Name", Qt::CaseInsensitive) == 0) {
+    if (attr.name().compare(QLatin1String("Name"), Qt::CaseInsensitive) == 0) {
       route->rte_name = attr.value().toString().trimmed();
-    } else if (attr.name().compare("Software", Qt::CaseInsensitive) == 0) {
+    } else if (attr.name().compare(QLatin1String("Software"), Qt::CaseInsensitive) == 0) {
       route->rte_desc = attr.value().toString().trimmed();
     }
   }
@@ -248,20 +248,20 @@ tef_item_start(xg_string args, const QXmlStreamAttributes* attrv)
     QString attrstr = attr.value().toString();
     QByteArray attrtext = attrstr.toUtf8();
 
-    if (attr.name().compare("SegDescription", Qt::CaseInsensitive) == 0) {
+    if (attr.name().compare(QLatin1String("SegDescription"), Qt::CaseInsensitive) == 0) {
       wpt_tmp->shortname = attrstr.trimmed();
-    } else if (attr.name().compare("PointDescription", Qt::CaseInsensitive) == 0) {
+    } else if (attr.name().compare(QLatin1String("PointDescription"), Qt::CaseInsensitive) == 0) {
       wpt_tmp->description = attrstr.trimmed();
-    } else if (attr.name().compare("ViaStation", Qt::CaseInsensitive) == 0 &&
-               attr.value().compare("true", Qt::CaseInsensitive) == 0) {
+    } else if (attr.name().compare(QLatin1String("ViaStation"), Qt::CaseInsensitive) == 0 &&
+               attr.value().compare(QLatin1String("true"), Qt::CaseInsensitive) == 0) {
       wpt_tmp->wpt_flags.fmt_use = 1;  /* only a flag */
 
       /* new in TEF V2 */
-    } else if (attr.name().compare("Instruction", Qt::CaseInsensitive) == 0) {
+    } else if (attr.name().compare(QLatin1String("Instruction"), Qt::CaseInsensitive) == 0) {
       wpt_tmp->description = attrstr.trimmed();
-    } else if (attr.name().compare("Altitude", Qt::CaseInsensitive) == 0) {
+    } else if (attr.name().compare(QLatin1String("Altitude"), Qt::CaseInsensitive) == 0) {
       wpt_tmp->altitude = attrstr.toDouble();
-    } else if (attr.name().compare("TimeStamp", Qt::CaseInsensitive) == 0) {
+    } else if (attr.name().compare(QLatin1String("TimeStamp"), Qt::CaseInsensitive) == 0) {
       /* nothing for the moment */
     }
   }
